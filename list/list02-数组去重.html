<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Moorain</title>
	<link rel="stylesheet" type="text/css" href="css/common.css"/>
	<link rel="stylesheet" type="text/css" href="css/listcommon.css"/>
	<script>!function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=window;t["default"]=i.flex=function(normal,e,t){var a=e||100,n=t||1,r=i.document,o=navigator.userAgent,d=o.match(/Android[\S\s]+AppleWebkit\/(\d{3})/i),l=o.match(/U3\/((\d+|\.){5,})/i),c=l&&parseInt(l[1].split(".").join(""),10)>=80,p=navigator.appVersion.match(/(iphone|ipad|ipod)/gi),s=i.devicePixelRatio||1;p||d&&d[1]>534||c||(s=1);var u=normal?1:1/s,m=r.querySelector('meta[name="viewport"]');m||(m=r.createElement("meta"),m.setAttribute("name","viewport"),r.head.appendChild(m)),m.setAttribute("content","width=device-width,user-scalable=no,initial-scale="+u+",maximum-scale="+u+",minimum-scale="+u),r.documentElement.style.fontSize=normal?"50px": a/2*s*n+"px"},e.exports=t["default"]}]);  flex(false,100, 1);</script>
</head>
<body>
    <div class="wrapper title">
      <p>Moorain</p>    
    </div>
    <div id="nav" class="innerbox">
    	<ul>
    		<li><a href="../index.html">Home</a></li>
    		<li><a href="../life.html">Life</a></li>
    		<li><a href="../lists.html">Lists</a></li>
    		<li><a href="../contact.html">About</a></li>
    	</ul>
    </div>
    <!--头部结束-->
    <!--内容开始-->
    <div class="con">
    	<!--文章-->
    	<div class="eassy">
    		<h1 class="YaHei" style="text-align: center;">
    js数组去重的5种算法实现
</h1>
<p>
    <span style="text-decoration: underline;">&nbsp;&nbsp;&nbsp;&nbsp;这篇文章主要介绍了js数组去重的5种算法实现，详细解释了实现思路，以及每个算法的优缺点，感兴趣的小伙伴们可以参考一下</span>
</p>
<p>
    <span style="text-decoration: underline;"><br/></span>
</p>
<p>
    <span style="text-decoration: none;"><strong>1.遍历数组法</strong><br/> &nbsp;&nbsp;&nbsp;&nbsp;最简单的去重方法，<span style="color: rgb(128, 0, 0);"><strong>实现思路</strong></span>：新建一新数组，遍历传入数组，值不在新数组就加入该新数组中；注意点：判断值是否在数组的方法“indexOf”是ECMAScript5 方法，IE8以下不支持，需多写一些兼容低版本浏览器代码，源码如下：</span>
</p>
<p>
    <table>
        <tbody>
            <tr class="firstRow">
                <td class="gutter">
                    <div class="line number2 index1 alt1">
                        2
                    </div>
                    <div class="line number3 index2 alt2">
                        3
                    </div>
                    <div class="line number4 index3 alt1">
                        4
                    </div>
                    <div class="line number5 index4 alt2">
                        5
                    </div>
                    <div class="line number6 index5 alt1">
                        6
                    </div>
                    <div class="line number7 index6 alt2">
                        7
                    </div>
                    <div class="line number8 index7 alt1">
                        8
                    </div>
                    <div class="line number9 index8 alt2">
                        9
                    </div>
                    <div class="line number10 index9 alt1">
                        10
                    </div>
                    <div class="line number11 index10 alt2">
                        11
                    </div>
                </td>
                <td class="code">
                    <div class="line number1 index0 alt2">
                        <code class="js comments">// 最简单数组去重法 </code>
                    </div>
                    <div class="line number2 index1 alt1">
                        <code class="js keyword">function</code> <code class="js plain">unique1(array){ </code>
                    </div>
                    <div class="line number3 index2 alt2">
                        <code class="js keyword">var</code> <code class="js plain">n = []; </code><code class="js comments">//一个新的临时数组 </code>
                    </div>
                    <div class="line number4 index3 alt1">
                        <code class="js comments">//遍历当前数组 </code>
                    </div>
                    <div class="line number5 index4 alt2">
                        <code class="js keyword">for</code><code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = 0; i &lt; array.length; i++){ </code>
                    </div>
                    <div class="line number6 index5 alt1">
                        <code class="js comments">//如果当前数组的第i已经保存进了临时数组，那么跳过， </code>
                    </div>
                    <div class="line number7 index6 alt2">
                        <code class="js comments">//否则把当前项push到临时数组里面 </code>
                    </div>
                    <div class="line number8 index7 alt1">
                        <code class="js keyword">if</code> <code class="js plain">(n.indexOf(array[i]) == -1) n.push(array[i]); </code>
                    </div>
                    <div class="line number9 index8 alt2">
                        <code class="js plain">} </code>
                    </div>
                    <div class="line number10 index9 alt1">
                        <code class="js keyword">return</code> <code class="js plain">n; </code>
                    </div>
                    <div class="line number11 index10 alt2">
                        <code class="js plain">}</code>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</p>
<p>
    <strong>2.对象键值对法</strong><br/>&nbsp; &nbsp; 该方法执行的速度比其他任何方法都快， 就是占用的内存大一些，<span style="color: rgb(128, 0, 0);"><strong>实现思路</strong></span>：新建一js对象以及新数组，遍历传入数组时，判断值是否为js对象的键，不是的话给对象新增该键并放入新数组。注意 点： 判断是否为js对象键时，会自动对传入的键执行“toString()”，不同的键可能会被误认为一样；例如： a[1]、a[&quot;1&quot;] 。解决上述问题还是得调用“indexOf”。<br/>
</p>
<p>
    <a class="toolbar_item command_help help" href="http://www.jb51.net/article/74347.htm#">?</a>
</p>
<table>
    <tbody>
        <tr class="firstRow">
            <td class="gutter">
                <div class="line number1 index0 alt2">
                    1
                </div>
                <div class="line number2 index1 alt1">
                    2
                </div>
                <div class="line number3 index2 alt2">
                    3
                </div>
                <div class="line number4 index3 alt1">
                    4
                </div>
                <div class="line number5 index4 alt2">
                    5
                </div>
                <div class="line number6 index5 alt1">
                    6
                </div>
                <div class="line number7 index6 alt2">
                    7
                </div>
                <div class="line number8 index7 alt1">
                    8
                </div>
                <div class="line number9 index8 alt2">
                    9
                </div>
                <div class="line number10 index9 alt1">
                    10
                </div>
                <div class="line number11 index10 alt2">
                    11
                </div>
                <div class="line number12 index11 alt1">
                    12
                </div>
                <div class="line number13 index12 alt2">
                    13
                </div>
                <div class="line number14 index13 alt1">
                    14
                </div>
                <div class="line number15 index14 alt2">
                    15
                </div>
                <div class="line number16 index15 alt1">
                    16
                </div>
            </td>
            <td class="code">
                <div class="line number1 index0 alt2">
                    <code class="js comments">// 速度最快， 占空间最多（空间换时间） </code>
                </div>
                <div class="line number2 index1 alt1">
                    <code class="js keyword">function</code> <code class="js plain">unique2(array){ </code>
                </div>
                <div class="line number3 index2 alt2">
                    <code class="js keyword">var</code> <code class="js plain">n = {}, r = [], len = array.length, val, type; </code>
                </div>
                <div class="line number4 index3 alt1">
                    <code class="js keyword">for</code> <code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = 0; i &lt; array.length; i++) { </code>
                </div>
                <div class="line number5 index4 alt2">
                    <code class="js plain">val = array[i]; </code>
                </div>
                <div class="line number6 index5 alt1">
                    <code class="js plain">type = </code><code class="js keyword">typeof</code> <code class="js plain">val; </code>
                </div>
                <div class="line number7 index6 alt2">
                    <code class="js keyword">if</code> <code class="js plain">(!n[val]) { </code>
                </div>
                <div class="line number8 index7 alt1">
                    <code class="js plain">n[val] = [type]; </code>
                </div>
                <div class="line number9 index8 alt2">
                    <code class="js plain">r.push(val); </code>
                </div>
                <div class="line number10 index9 alt1">
                    <code class="js plain">} </code><code class="js keyword">else</code> <code class="js keyword">if</code> <code class="js plain">(n[val].indexOf(type) &lt; 0) { </code>
                </div>
                <div class="line number11 index10 alt2">
                    <code class="js plain">n[val].push(type); </code>
                </div>
                <div class="line number12 index11 alt1">
                    <code class="js plain">r.push(val); </code>
                </div>
                <div class="line number13 index12 alt2">
                    <code class="js plain">} </code>
                </div>
                <div class="line number14 index13 alt1">
                    <code class="js plain">} </code>
                </div>
                <div class="line number15 index14 alt2">
                    <code class="js keyword">return</code> <code class="js plain">r; </code>
                </div>
                <div class="line number16 index15 alt1">
                    <code class="js plain">}</code>
                </div>
            </td>
        </tr>
    </tbody>
</table>
<p>
    <span style="text-decoration: none;"></span>
</p>
<p>
    <strong>3.数组下标判断法</strong><br/> 还是得调用“indexOf”性能跟方法1差不多，<span style="color: rgb(128, 0, 0);"><strong>实现思路</strong></span>：如果当前数组的第i项在当前数组中第一次出现的位置不是i，那么表示第i项是重复的，忽略掉。否则存入结果数组。
</p>
<table>
    <tbody>
        <tr class="firstRow">
            <td class="gutter">
                <div class="line number1 index0 alt2">
                    1
                </div>
                <div class="line number2 index1 alt1">
                    2
                </div>
                <div class="line number3 index2 alt2">
                    3
                </div>
                <div class="line number4 index3 alt1">
                    4
                </div>
                <div class="line number5 index4 alt2">
                    5
                </div>
                <div class="line number6 index5 alt1">
                    6
                </div>
                <div class="line number7 index6 alt2">
                    7
                </div>
                <div class="line number8 index7 alt1">
                    8
                </div>
                <div class="line number9 index8 alt2">
                    9
                </div>
                <div class="line number10 index9 alt1">
                    10
                </div>
            </td>
            <td class="code">
                <div class="line number1 index0 alt2">
                    <code class="js keyword">function</code> <code class="js plain">unique3(array){ </code>
                </div>
                <div class="line number2 index1 alt1">
                    <code class="js keyword">var</code> <code class="js plain">n = [array[0]]; </code><code class="js comments">//结果数组 </code>
                </div>
                <div class="line number3 index2 alt2">
                    <code class="js comments">//从第二项开始遍历 </code>
                </div>
                <div class="line number4 index3 alt1">
                    <code class="js keyword">for</code><code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = 1; i &lt; array.length; i++) { </code>
                </div>
                <div class="line number5 index4 alt2">
                    <code class="js comments">//如果当前数组的第i项在当前数组中第一次出现的位置不是i， </code>
                </div>
                <div class="line number6 index5 alt1">
                    <code class="js comments">//那么表示第i项是重复的，忽略掉。否则存入结果数组 </code>
                </div>
                <div class="line number7 index6 alt2">
                    <code class="js keyword">if</code> <code class="js plain">(array.indexOf(array[i]) == i) n.push(array[i]); </code>
                </div>
                <div class="line number8 index7 alt1">
                    <code class="js plain">} </code>
                </div>
                <div class="line number9 index8 alt2">
                    <code class="js keyword">return</code> <code class="js plain">n; </code>
                </div>
                <div class="line number10 index9 alt1">
                    <code class="js plain">}</code>
                </div>
            </td>
        </tr>
    </tbody>
</table>
<p>
    <strong>4.排序后相邻去除法 </strong><br/> 虽然原生数组的”sort”方法排序结果不怎么靠谱，但在不注重顺序的去重里该缺点毫无影响。<span style="color: rgb(128, 0, 0);"><strong>实现思路</strong></span>：给传入数组排序，排序后相同值相邻，然后遍历时新数组只加入不与前一值重复的值。
</p>
<table>
    <tbody>
        <tr class="firstRow">
            <td class="gutter">
                <div class="line number1 index0 alt2">
                    1
                </div>
                <div class="line number2 index1 alt1">
                    2
                </div>
                <div class="line number3 index2 alt2">
                    3
                </div>
                <div class="line number4 index3 alt1">
                    4
                </div>
                <div class="line number5 index4 alt2">
                    5
                </div>
                <div class="line number6 index5 alt1">
                    6
                </div>
                <div class="line number7 index6 alt2">
                    7
                </div>
                <div class="line number8 index7 alt1">
                    8
                </div>
                <div class="line number9 index8 alt2">
                    9
                </div>
                <div class="line number10 index9 alt1">
                    10
                </div>
                <div class="line number11 index10 alt2">
                    11
                </div>
            </td>
            <td class="code">
                <div class="line number1 index0 alt2">
                    <code class="js comments">// 将相同的值相邻，然后遍历去除重复值 </code>
                </div>
                <div class="line number2 index1 alt1">
                    <code class="js keyword">function</code> <code class="js plain">unique4(array){ </code>
                </div>
                <div class="line number3 index2 alt2">
                    <code class="js plain">array.sort(); </code>
                </div>
                <div class="line number4 index3 alt1">
                    <code class="js keyword">var</code> <code class="js plain">re=[array[0]]; </code>
                </div>
                <div class="line number5 index4 alt2">
                    <code class="js keyword">for</code><code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = 1; i &lt; array.length; i++){ </code>
                </div>
                <div class="line number6 index5 alt1">
                    <code class="js keyword">if</code><code class="js plain">( array[i] !== re[re.length-1]){ </code>
                </div>
                <div class="line number7 index6 alt2">
                    <code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">re.push(array[i]); </code>
                </div>
                <div class="line number8 index7 alt1">
                    <code class="js spaces">&nbsp;</code><code class="js plain">} </code>
                </div>
                <div class="line number9 index8 alt2">
                    <code class="js spaces">&nbsp;</code><code class="js plain">} </code>
                </div>
                <div class="line number10 index9 alt1">
                    <code class="js spaces">&nbsp;</code><code class="js keyword">return</code> <code class="js plain">re; </code>
                </div>
                <div class="line number11 index10 alt2">
                    <code class="js plain">}&nbsp;</code>
                </div>
            </td>
        </tr>
    </tbody>
</table>
<p>
    <strong>5.优化遍历数组法</strong><br/> 该方法的实现代码相当酷炫，<span style="color: rgb(128, 0, 0);"><strong>实现思路</strong></span>：获取没重复的最右一值放入新数组。（检测到有重复值时终止当前循环同时进入顶层循环的下一轮判断）推荐<br/>
</p>
<p>
    <a class="toolbar_item command_help help" href="http://www.jb51.net/article/74347.htm#">?</a>
</p>
<table>
    <tbody>
        <tr class="firstRow">
            <td class="gutter">
                <div class="line number1 index0 alt2">
                    1
                </div>
                <div class="line number2 index1 alt1">
                    2
                </div>
                <div class="line number3 index2 alt2">
                    3
                </div>
                <div class="line number4 index3 alt1">
                    4
                </div>
                <div class="line number5 index4 alt2">
                    5
                </div>
                <div class="line number6 index5 alt1">
                    6
                </div>
                <div class="line number7 index6 alt2">
                    7
                </div>
                <div class="line number8 index7 alt1">
                    8
                </div>
                <div class="line number9 index8 alt2">
                    9
                </div>
                <div class="line number10 index9 alt1">
                    10
                </div>
            </td>
            <td class="code">
                <div class="line number1 index0 alt2">
                    <code class="js comments">// 思路：获取没重复的最右一值放入新数组 </code>
                </div>
                <div class="line number2 index1 alt1">
                    <code class="js keyword">function</code> <code class="js plain">unique5(array){ </code>
                </div>
                <div class="line number3 index2 alt2">
                    <code class="js keyword">var</code> <code class="js plain">r = []; </code>
                </div>
                <div class="line number4 index3 alt1">
                    <code class="js keyword">for</code><code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = 0, l = array.length; i &lt; l; i++) { </code>
                </div>
                <div class="line number5 index4 alt2">
                    <code class="js spaces">&nbsp;</code><code class="js keyword">for</code><code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">j = i + 1; j &lt; l; j++) </code>
                </div>
                <div class="line number6 index5 alt1">
                    <code class="js spaces">&nbsp;&nbsp;</code><code class="js keyword">if</code> <code class="js plain">(array[i] === array[j]) j = ++i; </code>
                </div>
                <div class="line number7 index6 alt2">
                    <code class="js spaces">&nbsp;</code><code class="js plain">r.push(array[i]); </code>
                </div>
                <div class="line number8 index7 alt1">
                    <code class="js spaces">&nbsp;</code><code class="js plain">} </code>
                </div>
                <div class="line number9 index8 alt2">
                    <code class="js spaces">&nbsp;</code><code class="js keyword">return</code> <code class="js plain">r; </code>
                </div>
                <div class="line number10 index9 alt1">
                    <code class="js plain">}</code>
                </div>
            </td>
        </tr>
    </tbody>
</table>
<p>
    判断浏览器是否支持indexOf ，indexOf 为ecmaScript5新方法 IE8以下（包括IE8， IE8只支持部分ecma5）不支持<br/>
</p>
<p>
    <br/>
</p>
<table>
    <tbody>
        <tr class="firstRow">
            <td class="gutter">
                <div class="line number1 index0 alt2">
                    1
                </div>
                <div class="line number2 index1 alt1">
                    2
                </div>
                <div class="line number3 index2 alt2">
                    3
                </div>
                <div class="line number4 index3 alt1">
                    4
                </div>
                <div class="line number5 index4 alt2">
                    5
                </div>
                <div class="line number6 index5 alt1">
                    6
                </div>
                <div class="line number7 index6 alt2">
                    7
                </div>
                <div class="line number8 index7 alt1">
                    8
                </div>
                <div class="line number9 index8 alt2">
                    9
                </div>
                <div class="line number10 index9 alt1">
                    10
                </div>
                <div class="line number11 index10 alt2">
                    11
                </div>
                <div class="line number12 index11 alt1">
                    12
                </div>
                <div class="line number13 index12 alt2">
                    13
                </div>
                <div class="line number14 index13 alt1">
                    14
                </div>
                <div class="line number15 index14 alt2">
                    15
                </div>
                <div class="line number16 index15 alt1">
                    16
                </div>
                <div class="line number17 index16 alt2">
                    17
                </div>
            </td>
            <td class="code">
                <div class="line number1 index0 alt2">
                    <code class="js keyword">if</code> <code class="js plain">(!Array.prototype.indexOf){ </code>
                </div>
                <div class="line number2 index1 alt1">
                    <code class="js comments">// 新增indexOf方法 </code>
                </div>
                <div class="line number3 index2 alt2">
                    <code class="js plain">Array.prototype.indexOf = </code><code class="js keyword">function</code><code class="js plain">(item){ </code>
                </div>
                <div class="line number4 index3 alt1">
                    <code class="js keyword">var</code> <code class="js plain">result = -1, a_item = </code><code class="js keyword">null</code><code class="js plain">; </code>
                </div>
                <div class="line number5 index4 alt2">
                    <code class="js keyword">if</code> <code class="js plain">(</code><code class="js keyword">this</code><code class="js plain">.length == 0){ </code>
                </div>
                <div class="line number6 index5 alt1">
                    <code class="js keyword">return</code> <code class="js plain">result; </code>
                </div>
                <div class="line number7 index6 alt2">
                    <code class="js plain">} </code>
                </div>
                <div class="line number8 index7 alt1">
                    <code class="js keyword">for</code><code class="js plain">(</code><code class="js keyword">var</code> <code class="js plain">i = 0, len = </code><code class="js keyword">this</code><code class="js plain">.length; i &lt; len; i++){ </code>
                </div>
                <div class="line number9 index8 alt2">
                    <code class="js plain">a_item = </code><code class="js keyword">this</code><code class="js plain">[i]; </code>
                </div>
                <div class="line number10 index9 alt1">
                    <code class="js keyword">if</code> <code class="js plain">(a_item === item){ </code>
                </div>
                <div class="line number11 index10 alt2">
                    <code class="js plain">result = i; </code>
                </div>
                <div class="line number12 index11 alt1">
                    <code class="js keyword">break</code><code class="js plain">; </code>
                </div>
                <div class="line number13 index12 alt2">
                    <code class="js plain">} </code>
                </div>
                <div class="line number14 index13 alt1">
                    <code class="js plain">} </code>
                </div>
                <div class="line number15 index14 alt2">
                    <code class="js keyword">return</code> <code class="js plain">result; </code>
                </div>
                <div class="line number16 index15 alt1">
                    <code class="js plain">} </code>
                </div>
                <div class="line number17 index16 alt2">
                    <code class="js plain">}&nbsp;</code>
                </div>
            </td>
        </tr>
    </tbody>
</table>
<p>
    <br/>
</p>
    	</div>
    </div>
    
    
    
    
    
    <!--内容结束-->
    
    <!--尾部-->
    <div class="footer">
    	<p> Design By Moorain</p>
    </div>
</body>
</html>